<!DOCTYPE html>
<html>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>

<script>
function callPHP() {
   // var url = "boshencui.com/getAllTraps.php";
   var url = "http://boshencui.com/getAllTraps.php"
    var method = "POST";

// You REALLY want async = true.
// Otherwise, it'll block ALL execution waiting for server response.
var async = true;
var data;
var jsonResponse;
var request = new XMLHttpRequest();

request.onload = function () {
   var status = request.status; // HTTP response status, e.g., 200 for "200 OK"
   data = request.responseText; // Returned data, e.g., an HTML document.
   jsonResponse = JSON.parse(data);

   window.alert("data in function is" + jsonResponse);

   return jsonResponse;
}

request.open(method, url, async);

request.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
// Or... request.setRequestHeader("Content-Type", "text/plain;charset=UTF-8");
// Or... whatever

// Actually sends the request to the server.
  request.send();
}

var test = callPHP();
window.alert("test is:" + test);
</script>
<a href="#" onclick="callPHP()">call PHP script</a>
<p>test</p>
</html>